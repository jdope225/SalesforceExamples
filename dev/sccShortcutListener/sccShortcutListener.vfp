<apex:page >
    <apex:includeScript value="/support/console/36.0/integration.js"/>
    
    <script>
        // Create event listener for tracking currently viewed case
        var focusedTabObjectId = '';
        var focusedTabId = '';
        var onFocusedSubtabEventHandler = function (result) {
            focusedTabObjectId = result.objectId;
            console.log('focusedTabObjectId: ' + focusedTabObjectId);
            focusedTabId = result.id;
        };
        sforce.console.onFocusedSubtab(onFocusedSubtabEventHandler);
        
        var openAllTabsPrimaryTabEventHandler = function() {
            if(sforce.console.isInConsole()){
                sforce.console.openPrimaryTab(null,'/home/showAllTabs.jsp', true);
            }
        }
		
//        window.onload = function() {
//          openAllTabsPrimaryTabEventHandler();
//        };
		
        sforce.console.addEventListener('customShortcut.openAllTabsPrimaryTab', openAllTabsPrimaryTabEventHandler);            
    </script>      
</apex:page>
